<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
        
<mapper namespace="pms.dao.ProjectDao">
	<select id="getProjectList" resultType="project" parameterType="project">
		SELECT * 
		FROM project	 
	</select>
	<select id="getMemberList" resultType="member" parameterType="member">
		SELECT empno, name
		FROM member	
		order by empno
	</select>
	
	<insert id="insertProject" parameterType="project">
		insert into project values(project_seq.nextval, #{pname},
				#{pcomment}, sysdate, sysdate, sysdate)			
	</insert>
	<insert id="insertPartmem" parameterType="participants">
		insert into participants values(participants_seq.nextval, #{pauth},
				#{pid}, #{mid}, sysdate, sysdate)			
	</insert>
	
	<select id="getProjectDetail" parameterType="int" resultType="project">
		select pid, pname, pcomment, pstart, pend
		from project
		where pid = #{pid}
	</select>
	
	<delete id="deleteProject" parameterType="int">
		delete
		from project
		where pid = #{pid}	
	</delete>	
</mapper>